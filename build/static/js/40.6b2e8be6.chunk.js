(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{109:function(e,t,a){"use strict";var n=a(111),r=a(2),l=a.n(r);Object(n.a)({},l.a,{ID:l.a.oneOfType([l.a.string,l.a.number]).isRequired,component:l.a.oneOfType([l.a.string,l.a.func]),date:l.a.oneOfType([l.a.instanceOf(Date),l.a.string])})},110:function(e,t,a){"use strict";var n=a(40),r=a(16),l=a(5),c=a.n(l),o=a(1),s=a.n(o),i=(a(109),{h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"}),m=function(e){var t,a=e.tag,l=e.className,o=e.type,m=Object(r.a)(e,["tag","className","type"]),u=c()(Object(n.a)({},o,!!o),l);return t=a||(!a&&i[o]?i[o]:"p"),s.a.createElement(t,Object.assign({},m,{className:u}))};m.defaultProps={type:"p"},t.a=m},112:function(e,t,a){"use strict";var n=a(16),r=a(1),l=a.n(r),c=(a(109),a(19)),o=a(110),s=c.a.create("page"),i=function(e){var t=e.title,a=e.breadcrumbs,r=e.tag,c=e.className,i=e.children,m=Object(n.a)(e,["title","breadcrumbs","tag","className","children"]),u=s.b("px-3",c);return l.a.createElement(r,Object.assign({className:u},m),l.a.createElement("div",{className:s.e("header")},t&&"string"===typeof t?l.a.createElement(o.a,{type:"h4",className:s.e("title")},t):t,a&&a),i)};i.defaultProps={tag:"div",title:""},t.a=i},154:function(e,t,a){"use strict";a.r(t);var n=a(111),r=a(114),l=a.n(r),c=a(115),o=a(113),s=a(112),i=a(1),m=a.n(i),u=a(90),p=a(103),d=a(104),E=a(122),f=a(123),g=a(124),h=a(125),b=a(119),y=a(120),O=a(92),v=a(93),j=a(95),x=a(94),N=a(121),k=a(17),w=a(38),S=a(110),C=a(19).a.create("page");t.default=function(e){var t=Object(i.useState)(1),a=Object(o.a)(t,2),r=a[0],P=a[1],I=Object(i.useState)([]),J=Object(o.a)(I,2),T=J[0],_=J[1],z=Object(i.useState)({state:!1,whatsapp:"",period:"",category:"Suggestion"}),A=Object(o.a)(z,2),D=A[0],R=A[1],W=Object(i.useState)(-1),q=Object(o.a)(W,2),F=q[0],G=q[1],B=Object(i.useState)(1),M=Object(o.a)(B,2),U=M[0],H=M[1],K=Object(i.useState)(1),L=Object(o.a)(K,2),Q=L[0],V=L[1];return Object(i.useEffect)(function(){Object(c.a)(l.a.mark(function t(){var a,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/complaints/".concat(r,"/")+U,{method:"GET",headers:{"content-type":"application/json",Authorization:JSON.parse(localStorage.getItem("auth")).userToken}});case 2:if(401==(a=t.sent).status&&e.history.push("/login"),t.prev=4,!(a.status<400)){t.next=13;break}return t.next=8,a.json();case 8:return n=t.sent,t.next=11,_(n.data);case 11:H(parseInt(n.page)),V(parseInt(n.last_page));case 13:t.next=17;break;case 15:t.prev=15,t.t0=t.catch(4);case 17:case"end":return t.stop()}},t,null,[[4,15]])}))()},[r,U]),m.a.createElement(s.a,{title:m.a.createElement(m.a.Fragment,null,m.a.createElement(w.a,{to:"/my"},m.a.createElement(S.a,{type:"h4",className:C.e("title")},m.a.createElement(k.a,null)," Complaint")),m.a.createElement(u.a,{color:"link",onClick:function(){R(Object(n.a)({},D,{state:!0}))},style:{padding:"20px"}},m.a.createElement(k.m,null))),className:"MyPage"},m.a.createElement(p.a,{style:{flexFlow:"row wrap",justifyContent:"space-between"},className:"category-bar"},m.a.createElement(u.a,{className:1===r&&"btn-active",color:"link",onClick:function(){return P(1)}},"Completed"),m.a.createElement(u.a,{className:0===r&&"btn-active",color:"link",onClick:function(){return P(0)}},"Wait")),m.a.createElement(p.a,null,m.a.createElement(d.a,{md:12},T&&T.length>0?T.map(function(e,t){return m.a.createElement(u.a,{tag:"a",className:"form-control",color:"link",onClick:(a=e._id,function(){Object(c.a)(l.a.mark(function e(){var t,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/complaints",{method:"PUT",headers:{"content-type":"application/json",Authorization:JSON.parse(localStorage.getItem("auth")).userToken},body:JSON.stringify({id:T.find(function(e){return e._id===a})._id})});case 2:if(t=e.sent,e.prev=3,!(t.status<400)){e.next=14;break}return e.next=7,t.json();case 7:return e.sent,n=JSON.parse(JSON.stringify(T)),r=T.findIndex(function(e){return e._id===a}),n[r].view_status=!0,e.next=13,_(n);case 13:G(r);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}},e,null,[[3,16]])}))()}),key:t,style:{marginBottom:"0rem"}},e.category,"-",e.period,m.a.createElement("span",{style:{float:"right"}},1==e.status&&0==e.view_status?m.a.createElement(k.o,{className:"text-danger"}):""));var a}):"")),m.a.createElement(p.a,null,m.a.createElement(d.a,{md:12},m.a.createElement(E.a,{size:"sm","aria-label":"Page navigation example"},U>1?m.a.createElement(f.a,null,m.a.createElement(g.a,{previous:!0,onClick:function(){return H(1)}})):"",U>1?m.a.createElement(f.a,null,m.a.createElement(g.a,{onClick:function(){return H(U-1)}},U-1)):"",m.a.createElement(f.a,{active:!0},m.a.createElement(g.a,null,U)),U<Q?m.a.createElement(f.a,null,m.a.createElement(g.a,{onClick:function(){return H(U+1)}},U+1)):"",U<Q?m.a.createElement(f.a,null,m.a.createElement(g.a,{next:!0,onClick:function(){return H(Q)}})):""))),m.a.createElement(p.a,null,m.a.createElement("div",{style:{height:"60px"}})),m.a.createElement(h.a,{isOpen:-1!==F,toggle:function(){return G(-1)}},m.a.createElement(b.a,{toggle:function(){return G(-1)}},"Complaint & Suggestion"),F>-1&&T[F]?m.a.createElement(y.a,null,m.a.createElement(p.a,null,m.a.createElement(d.a,{md:12},m.a.createElement(O.a,null,m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"exampleSelect1"},"category"),m.a.createElement(x.a,{type:"text",disabled:!0,id:"exampleSelect1",className:"form-control",value:T[F].category})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"period1"},"Period ID"),m.a.createElement(x.a,{type:"text",disabled:!0,value:T[F].period,name:"period",id:"period1",className:"form-control"})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"whatsapp1"},"Whatsapp Number"),m.a.createElement(x.a,{type:"text",disabled:!0,value:T[F].whatsapp,name:"whatsapp",id:"whatsapp1",className:"form-control"})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"content1"},"Content"),m.a.createElement(x.a,{type:"textarea",disabled:!0,value:T[F].content,name:"content",id:"content1",className:"form-control"})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"reply"},"Reply"),m.a.createElement(x.a,{type:"textarea",disabled:!0,value:T[F].reply,name:"reply",id:"reply",className:"form-control"})))))):"",m.a.createElement(N.a,null,m.a.createElement(u.a,{color:"secondary",onClick:function(){return G(-1)}},"Close"))),m.a.createElement(h.a,{isOpen:D.state,toggle:function(){return R(Object(n.a)({},D,{state:!D.state}))}},m.a.createElement(b.a,{toggle:function(){return R(Object(n.a)({},D,{state:!D.state}))}},"Add Complaint & Suggestion"),m.a.createElement(y.a,null,m.a.createElement(p.a,null,m.a.createElement(d.a,{md:12},m.a.createElement(O.a,null,m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"exampleSelect"},"category"),m.a.createElement(x.a,{type:"select",value:D.category,name:"select",id:"exampleSelect",className:"form-control",onChange:function(e){return R(Object(n.a)({},D,{category:e.target.value}))}},m.a.createElement("option",null,"Suggestion"),m.a.createElement("option",null,"Consult"),m.a.createElement("option",null,"Recharge Problem"),m.a.createElement("option",null,"Withdraw Problem"),m.a.createElement("option",null,"Parity Problem"),m.a.createElement("option",null,"Gift Receive Problem"),m.a.createElement("option",null,"Other"))),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"period"},"Period ID"),m.a.createElement(x.a,{type:"number",value:D.period,onChange:function(e){return R(Object(n.a)({},D,{period:e.target.value}))},name:"period",id:"period",className:"form-control"})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"whatsapp"},"Whatsapp Number"),m.a.createElement(x.a,{type:"number",value:D.whatsapp,onChange:function(e){return R(Object(n.a)({},D,{whatsapp:e.target.value}))},name:"whatsapp",id:"whatsapp",className:"form-control"})),m.a.createElement(v.a,null,m.a.createElement(j.a,{for:"content"},"Content"),m.a.createElement(x.a,{type:"textarea",value:D.content,onChange:function(e){return R(Object(n.a)({},D,{content:e.target.value}))},name:"content",id:"content",className:"form-control"})))))),m.a.createElement(N.a,null,m.a.createElement(u.a,{color:"primary",onClick:function(){""!=D.period&&""!==D.content&&Object(c.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/complaints",{method:"POST",headers:{"content-type":"application/json",Authorization:JSON.parse(localStorage.getItem("auth")).userToken},body:JSON.stringify(Object(n.a)({},D))});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,alert(a.message),R({state:!1,whatsapp:"",period:"",category:"Suggestion"});case 8:case"end":return e.stop()}},e)}))()}},"Ok"),m.a.createElement(u.a,{color:"secondary",onClick:function(){return R(Object(n.a)({},D,{state:!D.state}))}},"Cancel"))))}}}]);
//# sourceMappingURL=40.6b2e8be6.chunk.js.map